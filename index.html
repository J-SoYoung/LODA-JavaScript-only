<!doctype html>
<html>

<head>
    <link rel="icon" href="/contents/images/_icon.svg">
    <title>logDiary</title>

    <link rel="manifest" href="/manifest.json">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />

    <script type="module">
        // imports
        import { Start } from "/app.mjs";
        // call the first function Start asynchronously
        window.onload = async () => { await Start(); }

        const registerServiceWorker = async () => {
            if ("serviceWorker" in navigator) {
                try {
                    const registration = await navigator.serviceWorker.register("/servive_worker.js", {
                        scope: "/",
                    });
                    if (registration.installing) {
                        console.log("Service worker installing");
                        alert('Service worker installing')
                    } else if (registration.waiting) {
                        console.log("Service worker waiting");
                        alert('Service worker waiting')
                    } else if (registration.active) {
                        console.log("Service worker active");
                        alert('Service worker active')
                    }
                } catch (error) {
                    console.error(`Registration failed with ${error}`);
                    alert(`Registration failed with ${error}`)
                }
            }
        };

        registerServiceWorker();

    </script>
</head>

<body>
</body>

</html>